<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.74.3" />
    <meta name="description" content="Tutorial de GIT">
<meta name="author" content="Juan Enciso">

    <link rel="icon" href="/images/favicon.ico" type="image/png">

    <title>Git (Parte 2) :: Docs Planet</title>

    
    <link href="/css/nucleus.css?1599606374" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1599606374" rel="stylesheet">
    <link href="/css/hybrid.css?1599606374" rel="stylesheet">
    <link href="/css/featherlight.min.css?1599606374" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1599606374" rel="stylesheet">
    <link href="/css/auto-complete.css?1599606374" rel="stylesheet">
    <link href="/css/theme.css?1599606374" rel="stylesheet">
    <link href="/css/hugo-theme.css?1599606374" rel="stylesheet">
    
    <link href="/css/theme-custom-docs.css?1599606374" rel="stylesheet">
    
    
    
    <link rel="stylesheet" type="text/css" href="/css/asciinema-player.css" />
    
    <script src="/js/jquery-3.3.1.min.js?1599606374"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
        :not(pre) > code + span.copy-to-clipboard {
            display: none;
        }
      
    </style>
    
  </head>
  <body class="" data-url="/tutorials/git/git-part2/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <td valign="top" align="left">
   <img style="cursor:pointer" onclick="window.location='/'" alt="" src="/images/logo.png" width="100%">
</td>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times" style="color:#e2e2e2;"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1599606374"></script>
<script type="text/javascript" src="/js/auto-complete.js?1599606374"></script>
<script type="text/javascript">
    
        var baseurl = "\/";
    
</script>
<script type="text/javascript" src="/js/search.js?1599606374"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    
    
    <li data-nav-id="/tutorials/" title="üíª Tutoriais" class="dd-item 
        parent
        
        
        ">
      <a href="/tutorials/">
          üíª Tutoriais
          
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    
    
    <li data-nav-id="/tutorials/git/" title="Git" class="dd-item 
        parent
        
        
        ">
      <a href="/tutorials/git/">
          Git
          
            
              <i class="fas fa-caret-down"></i>
            
          
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/tutorials/git/git-basico/" title="Tutorial - Git B√°sico" class="dd-item ">
        <a href="/tutorials/git/git-basico/">
        Git B√°sico
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/tutorials/git/git-bash-prompt/" title="Git Bash Prompt" class="dd-item ">
        <a href="/tutorials/git/git-bash-prompt/">
        Git Bash Prompt
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/tutorials/git/git-part1/" title="Git (Parte 1)" class="dd-item ">
        <a href="/tutorials/git/git-part1/">
        Git (Parte 1)
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/tutorials/git/git-part2/" title="Git (Parte 2)" class="dd-item active">
        <a href="/tutorials/git/git-part2/">
        Git (Parte 2)
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/tutorials/git/git-part3/" title="Git (Parte 3)" class="dd-item ">
        <a href="/tutorials/git/git-part3/">
        Git (Parte 3)
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/tutorials/git/gitflow/" title="Gitflow" class="dd-item ">
        <a href="/tutorials/git/gitflow/">
        Gitflow
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            




 
  
    
    
    
    <li data-nav-id="/tutorials/kvm/" title="KVM" class="dd-item 
        
        
        
        ">
      <a href="/tutorials/kvm/">
          KVM
          
            
              <i class="fas fa-caret-right"></i>
            
          
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/tutorials/kvm/kvm-install/" title="KVM - Instalac√£o" class="dd-item ">
        <a href="/tutorials/kvm/kvm-install/">
        KVM - Instalac√£o
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/tutorials/kvm/kvm-bridge/" title="KVM - Bridge Setup" class="dd-item ">
        <a href="/tutorials/kvm/kvm-bridge/">
        KVM - Bridge Setup
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/tutorials/kvm/kvm-provision/" title="KVM - Provision" class="dd-item ">
        <a href="/tutorials/kvm/kvm-provision/">
        KVM - Provision
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            




 
  
    
    
    
    <li data-nav-id="/tutorials/docker/" title="Docker" class="dd-item 
        
        
        
        ">
      <a href="/tutorials/docker/">
          Docker
          
            
              <i class="fas fa-caret-right"></i>
            
          
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/tutorials/docker/docker-install/" title="Docker - Instalac√£o" class="dd-item ">
        <a href="/tutorials/docker/docker-install/">
        Docker - Instalac√£o
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    
    
    <li data-nav-id="/artigos/" title="‚úç Artigos" class="dd-item 
        
        
        
        ">
      <a href="/artigos/">
          ‚úç Artigos
          
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/artigos/init-config/" title="Configura√ß√µes iniciais" class="dd-item ">
        <a href="/artigos/init-config/">
        Configura√ß√µes iniciais
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/artigos/semversion/" title="Semantic Version" class="dd-item ">
        <a href="/artigos/semversion/">
        Semantic Version
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    
    
    <li data-nav-id="/links/" title="üìë Links" class="dd-item 
        
        
        
        ">
      <a href="/links/">
          üìë Links
          
          
      </a>
      
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3>  </h3>
        <ul>
          
              <li> 
                  <a class="padding" href="https://jenciso.github.io/"><i class='fas fa-bookmark'></i> Autor</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="footer">
      

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                  
                  
                  
                  <div id="top-github-link">
                    <a class="github-link" title='Edit this page' href="https://github.com/docs-planet/website/edit/master/content/tutorials/git/git-part2.md" target="blank">
                      <i class="fas fa-code-branch"></i>
                      <span id="top-github-link-text">Edit this page</span>
                    </a>
                  </div>
                  
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            
            
          
          
            <a href='/'>Docs Planet</a> > <a href='/tutorials/'>üíª Tutoriais</a> > <a href='/tutorials/git/'>Git</a> > Git (Parte 2)
          
        
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#14-descartando-mudan√ßas-locais-antes-do-stage">14. Descartando mudan√ßas locais (antes do stage)</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#15-descartando-mudan√ßas-no-stage-antes-do-commit">15. Descartando mudan√ßas no stage (antes do commit)</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#16-desfazendo-commits">16. Desfazendo commits</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#17-removendo-um-commit-de-um-branch">17. Removendo um commit de um branch</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#18-removendo-a-tag-oops">18. Removendo a tag oops</a></li>
    <li><a href="#19-mudando-commits">19. Mudando commits</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#20-movendo-arquivos">20. Movendo arquivos</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#21-mais-informa√ß√£o-sobre-a-estrutura">21. Mais informa√ß√£o sobre a estrutura</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#22-dentro-do-git-diret√≥rio-git">22. Dentro do Git: diret√≥rio .git</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#23-dentro-do-git-trabalhando-diretamente-com-objetos-do-git">23. Dentro do Git: Trabalhando diretamente com objetos do git</a>
      <ul>
        <li></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        
        <div id="body-inner">
          
            <h1>
              
              Git (Parte 2)
            </h1>
          

        



<div class="notices note" ><p>Este tutorial √© a continua√ß√£o do tutorial <a href="../git-part1">Git (Part 1)</a></p>
</div>

<h2 id="14-descartando-mudan√ßas-locais-antes-do-stage">14. Descartando mudan√ßas locais (antes do stage)</h2>
<h4 id="acessando-o-branch-master">Acessando o branch Master</h4>
<p>Verifique que voc√™ esta no √∫ltimo commit do branch master antes de continuar.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">git checkout master
</code></pre></div><h4 id="mude-o-hellohtml">Mude o hello.html</h4>
<p>Acontece de voc√™ modificar o arquivo no seu diret√≥rio de trabalho local e √†s vezes querer descartar as mudan√ßas que voc√™ fez commit. √â aqui que o comando checkout vai te ajudar.</p>
<p>Fa√ßa mudan√ßas ao arquivo hello.html na forma de um coment√°rio indesejado.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">html</span>&gt;
  &lt;<span style="color:#f92672">head</span>&gt;
  &lt;/<span style="color:#f92672">head</span>&gt;
  &lt;<span style="color:#f92672">body</span>&gt;
    &lt;<span style="color:#f92672">h1</span>&gt;Hello, World!&lt;/<span style="color:#f92672">h1</span>&gt;
<span style="display:block;width:100%;background-color:#3c3d38">    <span style="color:#75715e">&lt;!-- This is a bad comment.  We want to revert it. --&gt;</span>
</span>  &lt;/<span style="color:#f92672">body</span>&gt;
&lt;/<span style="color:#f92672">html</span>&gt;
</code></pre></div><p>Confira o status</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">git status
</code></pre></div><p>
    <asciinema-player
        src="/casts/git-basico18.cast"
        cols="110"
        rows="28"
        
        preload="1"
        
        start-at="0"
        speed="1.5"
        
        poster="npt:0:01"
        
        theme="monokai"
        
        
        
        
    ></asciinema-player>
</p>

<h4 id="desfazendo-as-mudan√ßas-no-diret√≥rio-de-trabalho">Desfazendo as mudan√ßas no diret√≥rio de trabalho</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">cat hello.html
git checkout hello.html
git status
cat hello.html
</code></pre></div><p>
    <asciinema-player
        src="/casts/git-basico19.cast"
        cols="110"
        rows="28"
        
        preload="1"
        
        start-at="0"
        speed="1.5"
        
        poster="npt:0:01"
        
        theme="monokai"
        
        
        
        
    ></asciinema-player>
</p>

<p>O comando status mostra que n√£o existem mudan√ßas que n√£o est√£o no stage no reposit√≥rio de trabalho. E o ‚Äúcoment√°rio ruim‚Äù n√£o est√° mais no arquivo.</p>
<h2 id="15-descartando-mudan√ßas-no-stage-antes-do-commit">15. Descartando mudan√ßas no stage (antes do commit)</h2>
<h4 id="edite-o-arquivo-e-adicione-as-mudan√ßas-ao-stage">Edite o arquivo e adicione as mudan√ßas ao stage</h4>
<p>Fa√ßa mudan√ßas ao arquivo <code>hello.html</code> na forma de um coment√°rio indesejado.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">html</span>&gt;
  &lt;<span style="color:#f92672">head</span>&gt;
<span style="display:block;width:100%;background-color:#3c3d38">    <span style="color:#75715e">&lt;!-- This is an unwanted but staged comment --&gt;</span>
</span>  &lt;/<span style="color:#f92672">head</span>&gt;
  &lt;<span style="color:#f92672">body</span>&gt;
    &lt;<span style="color:#f92672">h1</span>&gt;Hello, World!&lt;/<span style="color:#f92672">h1</span>&gt;
  &lt;/<span style="color:#f92672">body</span>&gt;
&lt;/<span style="color:#f92672">html</span>&gt;
</code></pre></div><p>E logo adicione o arquivo ao stage.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">git add hello.html
git status
</code></pre></div><p>
    <asciinema-player
        src="/casts/git-basico20.cast"
        cols="110"
        rows="28"
        
        preload="1"
        
        start-at="0"
        speed="1.5"
        
        poster="npt:0:01"
        
        theme="monokai"
        
        
        
        
    ></asciinema-player>
</p>

<h4 id="revertendo-a-zona-de-buffer">Revertendo a zona de buffer</h4>
<p>Felizmente, o status informado nos mostra exatamente o que devemos fazer para cancelar mudan√ßas no stage.</p>
<pre><code>git reset HEAD hello.html
</code></pre><p>
    <asciinema-player
        src="/casts/git-basico21.cast"
        cols="110"
        rows="28"
        
        preload="1"
        
        start-at="0"
        speed="1.5"
        
        poster="npt:0:01"
        
        theme="monokai"
        
        
        
        
    ></asciinema-player>
</p>

<p>O comando <code>reset</code> retorna a zona do buffer para HEAD. Isso limpa a zona do buffer das mudan√ßas que n√≥s acabamos de adicionar ao stage.</p>
<p>O comando <code>reset</code> (padr√£o) n√£o altera o diret√≥rio de trabalho. Logo, o diret√≥rio de trabalho ainda tem os coment√°rios indesejados. N√≥s podemos usar o comando checkout do tutorial anterior para remover as mudan√ßas do reposit√≥rio de trabalho.</p>
<h4 id="mudando-para-a-vers√£o-do-commit">Mudando para a vers√£o do commit</h4>
<pre><code>git checkout hello.html
git status
</code></pre><p>
    <asciinema-player
        src="/casts/git-basico22.cast"
        cols="110"
        rows="28"
        
        preload="1"
        
        start-at="0"
        speed="1.5"
        
        poster="npt:0:01"
        
        theme="monokai"
        
        
        
        
    ></asciinema-player>
</p>

<p>Nosso diret√≥rio de trabalho est√° limpo novamente.</p>
<h2 id="16-desfazendo-commits">16. Desfazendo commits</h2>
<p>Algumas vezes voc√™ percebe que os novos commits est√£o errados e voc√™ quer desfaz√™-los. Existem v√°rias maneiras de resolver esse problema, mas n√≥s usamos a mais segura aqui.</p>
<p>Para desfazer o commit, vamos criar um novo commit desfazendo as modifica√ß√µes n√£o desejadas.</p>
<h4 id="edite-o-arquivo-e-fa√ßa-um-commit">Edite o arquivo e fa√ßa um commit</h4>
<p>Substitua o arquivo <code>hello.html</code> com o seguinte.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">html</span>&gt;
  &lt;<span style="color:#f92672">head</span>&gt;
  &lt;/<span style="color:#f92672">head</span>&gt;
  &lt;<span style="color:#f92672">body</span>&gt;
    &lt;<span style="color:#f92672">h1</span>&gt;Hello, World!&lt;/<span style="color:#f92672">h1</span>&gt;
<span style="display:block;width:100%;background-color:#3c3d38">    <span style="color:#75715e">&lt;!-- This is an unwanted but committed change --&gt;</span>
</span>  &lt;/<span style="color:#f92672">body</span>&gt;
&lt;/<span style="color:#f92672">html</span>&gt;
</code></pre></div><pre><code>git add hello.html
git commit -m &quot;Oops, we didn't want this commit&quot;
</code></pre><h4 id="fa√ßa-um-commit-com-as-novas-modifica√ß√µes-que-desfazem-as-modifica√ß√µes-anteriores">Fa√ßa um commit com as novas modifica√ß√µes que desfazem as modifica√ß√µes anteriores</h4>
<p>Para desfazer o commit, precisamos criar um commit que deleta as modifica√ß√µes feitas pelo commit indesejado.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">git revert HEAD
</code></pre></div><p>
    <asciinema-player
        src="/casts/git-basico23.cast"
        cols="110"
        rows="28"
        
        preload="1"
        
        start-at="0"
        speed="1.5"
        
        poster="npt:0:01"
        
        theme="monokai"
        
        
        
        
    ></asciinema-player>
</p>

<p>Voce tb poderia haver usado o comando <code>git revert HEAD --no-edit</code>. O comando <code>--no-edit</code> pode ser ignorado. Ele era desnecess√°rio para gerar as informa√ß√µes de sa√≠da sem abrir o editor.</p>
<h4 id="confira-o-log">Confira o log</h4>
<pre><code>git hist
</code></pre><p>
    <asciinema-player
        src="/casts/git-basico24.cast"
        cols="110"
        rows="28"
        
        preload="1"
        
        start-at="0"
        speed="1.5"
        
        poster="npt:0:06"
        
        theme="monokai"
        
        
        
        
    ></asciinema-player>
</p>

<p>A seguir vamos olhar a t√©cnica que pode ser usada para remover o √∫ltimo commit do hist√≥rico do reposit√≥rio.</p>
<h2 id="17-removendo-um-commit-de-um-branch">17. Removendo um commit de um branch</h2>
<p><code>Revert</code> √© um comando poderoso da se√ß√£o anterior que te permite cancelar quaisquer commits para um reposit√≥rio. Apesar disso, tanto os commits originais quanto os cancelados permanecem vis√≠veis no hist√≥rico do branch (quando usamos o comando <code>git log</code>).</p>
<p>Frequentemente depois que um commit √© feito percebemos que ele era um erro. Seria legal ter um comando de desfazer que permitisse deletar o commit incorreto imediatamente. Esse comando preveniria a apari√ß√£o de um commit indesejado no hist√≥rico do <code>git log</code>.</p>
<h4 id="o-comando-reset">O comando reset</h4>
<p>N√≥s j√° usamos o comando reset para equiparar o buffer zone e o commit selecionado (commit HEAD foi usado na li√ß√£o anterior).</p>
<p>Quando uma refer√™ncia a um commit √© dada (Exemplo: um branch, hash, ou tag name), o comando reset vai&hellip;</p>
<ol>
<li>Sobrescrever o branch atual para que ele aponte para o commit correto</li>
<li>Opcionalmente resetar o buffer zone para que ele satisfazer o commit especificado</li>
<li>Opcionalmente resetar o dir√©torio de trabalho para que ele equipare-se ao commit especificado</li>
</ol>
<h4 id="cheque-nosso-hist√≥rico">Cheque nosso hist√≥rico</h4>
<pre><code>git hist
</code></pre><p>
    <asciinema-player
        src="/casts/git-basico25.cast"
        cols="110"
        rows="28"
        
        preload="1"
        
        start-at="0"
        speed="1.5"
        
        poster="npt:0:06"
        
        theme="monokai"
        
        
        
        
    ></asciinema-player>
</p>

<p>N√≥s vemos que os dois √∫ltimos commits desse branch s√£o &ldquo;Oops&rdquo; and &ldquo;Revert Oops&rdquo;. Vamos remov√™-los com o comando reset.</p>
<h4 id="marque-esse-branch-primeiro">Marque esse branch primeiro</h4>
<p>Vamos marcar nosso √∫ltimo commit com tag, para que possamos ach√°-lo ap√≥s remover commits.</p>
<pre><code>git tag oops
</code></pre><h4 id="resete-o-commit-para-o-oops-anterior">Resete o commit para o Oops anterior</h4>
<p>No log de hist√≥rico (veja acima), o commit com tag ¬´v1¬ª est√° fazendo commit sobre um commit anterior incorreto. Vamos resetar o branch para aquele ponto. Como o branch tem uma tag, podemos usar o nome da tag no comando reset (se n√£o possuir uma tag, podemos usar o valor hash).</p>
<pre><code>git reset --hard v1
git hist
</code></pre><p>
    <asciinema-player
        src="/casts/git-basico26.cast"
        cols="110"
        rows="28"
        
        preload="1"
        
        start-at="0"
        speed="1.5"
        
        poster="npt:0:06"
        
        theme="monokai"
        
        
        
        
    ></asciinema-player>
</p>

<h4 id="nada-√©-perdido-para-sempre">Nada √© perdido para sempre</h4>
<p>O que acontece com os commits errados? Eles ainda est√£o no reposit√≥rio. Na verdade, ainda podemos nos referir a eles. No in√≠cio da li√ß√£o, criamos a tag ¬´oops¬ª para o commit cancelado. Vamos dar uma olhada em all (todos) commits.</p>
<pre><code>git hist --all
</code></pre><p>
    <asciinema-player
        src="/casts/git-basico27.cast"
        cols="110"
        rows="28"
        
        preload="1"
        
        start-at="0"
        speed="1.5"
        
        poster="npt:0:06"
        
        theme="monokai"
        
        
        
        
    ></asciinema-player>
</p>

<p>Podemos ver que os commits errados n√£o foram embora. Eles n√£o est√£o listados mais no branch master mas ainda permanecem no reposit√≥rio. Eles ainda estariam no reposit√≥rio caso n√£o tiv√©ssemos colocado uma tag neles, mas s√≥ poder√≠amos referenci√°-los por seus nomes hash. Commits n√£o referenciados continuam no reposit√≥rio at√© que um software garbage collection √© acionado pelo sistema.</p>
<h4 id="perigos-de-resetar">Perigos de resetar</h4>
<p>Resets em branches locais geralmente s√£o inofensivos. As consequ√™ncias de quaisquer &ldquo;acidentes&rdquo; podem ser revertidos usando um commit apropriado.</p>
<p>Apesar disso, outros usu√°rios que compartilham o branch podem ficar confusos se o branch compartilhado fica armazenado em reposit√≥rios remotos.</p>
<h2 id="18-removendo-a-tag-oops">18. Removendo a tag oops</h2>
<p>A tag oops j√° fez o seu trabalho. Vamos remov√™-la e permitir que o garbage collector delete o commit referenciado.</p>
<pre><code>git tag -d oops
git hist --all
</code></pre><p>
    <asciinema-player
        src="/casts/git-basico28.cast"
        cols="110"
        rows="28"
        
        preload="1"
        
        start-at="0"
        speed="1.5"
        
        poster="npt:0:13"
        
        theme="monokai"
        
        
        
        
    ></asciinema-player>
</p>

<h2 id="19-mudando-commits">19. Mudando commits</h2>
<h4 id="mude-a-p√°gina-e-fa√ßa-um-commit">Mude a p√°gina e fa√ßa um commit</h4>
<p>Coloque um coment√°rio de autor na p√°gina.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="display:block;width:100%;background-color:#3c3d38"><span style="color:#75715e">&lt;!-- Author: Juan Enciso --&gt;</span>
</span>&lt;<span style="color:#f92672">html</span>&gt;
  &lt;<span style="color:#f92672">head</span>&gt;
  &lt;/<span style="color:#f92672">head</span>&gt;
  &lt;<span style="color:#f92672">body</span>&gt;
    &lt;<span style="color:#f92672">h1</span>&gt;Hello, World!&lt;/<span style="color:#f92672">h1</span>&gt;
  &lt;/<span style="color:#f92672">body</span>&gt;
&lt;/<span style="color:#f92672">html</span>&gt;
</code></pre></div><pre><code>git add hello.html
git commit -m &quot;Add an author comment&quot;
</code></pre><h4 id="oops-precisa-do-e-mail">Oops&hellip; precisa do e-mail</h4>
<p>Depois de fazer o commit, voc√™ percebe que todo bom coment√°rio deveria incluir o e-mail do autor. Edite a p√°gina hello para fornecer um e-mail.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="display:block;width:100%;background-color:#3c3d38"><span style="color:#75715e">&lt;!-- Author: Juan Enciso (juan.enciso@gmail.com) --&gt;</span>
</span>&lt;<span style="color:#f92672">html</span>&gt;
  &lt;<span style="color:#f92672">head</span>&gt;
  &lt;/<span style="color:#f92672">head</span>&gt;
  &lt;<span style="color:#f92672">body</span>&gt;
    &lt;<span style="color:#f92672">h1</span>&gt;Hello, World!&lt;/<span style="color:#f92672">h1</span>&gt;
  &lt;/<span style="color:#f92672">body</span>&gt;
&lt;/<span style="color:#f92672">html</span>&gt;
</code></pre></div><h4 id="mude-o-commit-anterior">Mude o commit anterior</h4>
<p>N√≥s n√£o queremos criar outro commit apenas para o e-mail. Vamos mudar o commit anterior e adicionar o endere√ßo de e-mail.</p>
<pre><code>git add hello.html
git commit --amend -m &quot;Add an author/email comment&quot;
</code></pre><p>
    <asciinema-player
        src="/casts/git-basico29.cast"
        cols="110"
        rows="28"
        
        preload="1"
        
        start-at="0"
        speed="1.5"
        
        poster="npt:1:14"
        
        theme="monokai"
        
        
        
        
    ></asciinema-player>
</p>

<h4 id="olhar-o-hist√≥rico">Olhar o hist√≥rico</h4>
<pre><code>git hist
</code></pre><p>
    <asciinema-player
        src="/casts/git-basico30.cast"
        cols="110"
        rows="28"
        
        preload="1"
        
        start-at="0"
        speed="1.5"
        
        poster="npt:0:4"
        
        theme="monokai"
        
        
        
        
    ></asciinema-player>
</p>

<p>O novo commit &ldquo;author/email&rdquo; substitui o commit original &ldquo;author&rdquo;. O mesmo pode ser obtido usando o comando <code>reset</code> no branch e fazendo novamente o commit com as mudan√ßas.</p>
<h2 id="20-movendo-arquivos">20. Movendo arquivos</h2>
<h4 id="mova-o-arquivo-hellohtml-para-a-pasta-lib">Mova o arquivo hello.html para a pasta lib.</h4>
<p>Agora criaremos a estrutura do nosso reposit√≥rio. Vamos mover a p√°gina no diret√≥rio lib</p>
<pre><code>mkdir lib
git mv hello.html lib
git status
</code></pre><p>Movendo arquivos com git, n√≥s notificamos o git sobre duas coisas</p>
<ol>
<li>O arquivo hello.html foi deletado.</li>
<li>O arquivo lib/hello.html foi criado.</li>
</ol>
<p>Ambos os fatos v√£o para stage imediatamente e ficam prontos para o commit. O comando git status reporta que o arquivo foi movido.</p>
<h4 id="mais-um-jeito-de-mover-arquivos">Mais um jeito de mover arquivos</h4>
<p>Um fato positivo sobre o git √© que voc√™ n√£o precisa se lembrar de controle de vers√£o no momento em que voc√™ faz o commit do c√≥digo. O que poderia acontecer se n√≥s estiv√©ssemos usando a linha de comando do sistema operacional ao inv√©s do comando git para mover arquivos?</p>
<p>O pr√≥ximo set de comandos √© id√™ntico √†s nossas √∫ltimas a√ß√µes. √â necess√°rio mais trabalho para o mesmo resultado.</p>
<p>N√≥s podemos fazer:</p>
<pre><code>mkdir lib
mv hello.html lib
git add lib/hello.html
git rm hello.html
</code></pre><h4 id="fa√ßa-commit-do-novo-diret√≥rio">Fa√ßa commit do novo diret√≥rio</h4>
<p>Vamos fazer commit dessa mudan√ßa.</p>
<pre><code>git commit -m &quot;Moved hello.html to lib&quot;
</code></pre><p>
    <asciinema-player
        src="/casts/git-basico31.cast"
        cols="110"
        rows="28"
        
        preload="1"
        
        start-at="0"
        speed="1.5"
        
        poster="npt:0:17"
        
        theme="monokai"
        
        
        
        
    ></asciinema-player>
</p>

<h2 id="21-mais-informa√ß√£o-sobre-a-estrutura">21. Mais informa√ß√£o sobre a estrutura</h2>
<h4 id="adicionando-indexhtml">Adicionando index.html</h4>
<p>Vamos adicionar um arquivo <code>index.html</code> ao nosso reposit√≥rio. O arquivo a seguir √© perfeito para esse prop√≥sito.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">html</span>&gt;
  &lt;<span style="color:#f92672">body</span>&gt;
    &lt;<span style="color:#f92672">iframe</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;lib/hello.html&#34;</span> <span style="color:#a6e22e">width</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;200&#34;</span> <span style="color:#a6e22e">height</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;200&#34;</span> /&gt;
  &lt;/<span style="color:#f92672">body</span>&gt;
&lt;/<span style="color:#f92672">html</span>&gt;
</code></pre></div><p>Adicione o arquivo e fa√ßa um commit.</p>
<pre><code>git add index.html
git commit -m &quot;Added index.html.&quot;
</code></pre><p>Agora quando voc√™ abrir <code>index.html</code>, voc√™ dever√° ver uma parte da p√°gina hello em uma pequena janela.</p>
<p>
    <asciinema-player
        src="/casts/git-basico32.cast"
        cols="110"
        rows="28"
        
        preload="1"
        
        start-at="0"
        speed="1.5"
        
        poster="npt:0:01"
        
        theme="monokai"
        
        
        
        
    ></asciinema-player>
</p>

<pre><code>firefox index.html
</code></pre><p><img src="https://i.imgur.com/FHxL1jk.png" alt=""></p>
<h2 id="22-dentro-do-git-diret√≥rio-git">22. Dentro do Git: diret√≥rio .git</h2>
<h4 id="o-diret√≥rio-git">O diret√≥rio .git</h4>
<p>Essa √© uma pasta especial onde todas as coisas do git est√£o. Vamos explorar o diret√≥rio.</p>
<p>
    <asciinema-player
        src="/casts/git-basico33.cast"
        cols="110"
        rows="28"
        
        preload="1"
        
        start-at="0"
        speed="1.5"
        
        poster="npt:0:17"
        
        theme="monokai"
        
        
        
        
    ></asciinema-player>
</p>

<h4 id="banco-de-dados-de-objetos">Banco de Dados de Objetos</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">ls -C .git/objects/&lt;dir&gt;
</code></pre></div><p>Voc√™ deve ver v√°rias pastas nomeadas com dois caracteres. As duas primeiras letras do hash sha1 do objeto armazenado no git s√£o o nome dos seus diret√≥rios.</p>
<p>Vamos dar uma olhada em uma das pastas nomeadas com dois caracteres. Devem ter arquivos com nomes de 38 caracteres. Esses arquivos cont√©m os objetos armazenados no git. Eles s√£o comprimidos e encriptados, ent√£o √© imposs√≠vel ver seu conte√∫do diretamente. Vamos dar uma olhada melhor no diret√≥rio Git.</p>
<p>
    <asciinema-player
        src="/casts/git-basico34.cast"
        cols="110"
        rows="28"
        
        preload="1"
        
        start-at="0"
        speed="1.5"
        
        poster="npt:0:17"
        
        theme="monokai"
        
        
        
        
    ></asciinema-player>
</p>

<h4 id="arquivo-config">Arquivo Config</h4>
<pre><code>cat .git/config
</code></pre><p>
    <asciinema-player
        src="/casts/git-basico35.cast"
        cols="110"
        rows="28"
        
        preload="1"
        
        start-at="0"
        speed="1.5"
        
        poster="npt:0:17"
        
        theme="monokai"
        
        
        
        
    ></asciinema-player>
</p>

<h4 id="branches-e-tags">Branches e tags</h4>
<pre><code>ls .git/refs
ls .git/refs/heads
ls .git/refs/tags
cat .git/refs/tags/v1
</code></pre><p>
    <asciinema-player
        src="/casts/git-basico36.cast"
        cols="110"
        rows="28"
        
        preload="1"
        
        start-at="0"
        speed="1.5"
        
        poster="npt:0:23"
        
        theme="monokai"
        
        
        
        
    ></asciinema-player>
</p>

<p>Arquivos no subdiret√≥rio de tags devem ser familiares pra voc√™. Cada arquivo corresponde a tag anteriormente criada usando o comando git tag. Seu conte√∫do n√£o √© nada mais que um hash de um commit associado √† tag.</p>
<p>A pasta heads √© quase id√™ntica e √© usada n√£o para tags, mas para branches. No momento, n√≥s s√≥ temos um branch e tudo que voc√™ v√™ nessa pasta √© um branch master.</p>
<h4 id="arquivo-head">Arquivo HEAD</h4>
<pre><code>cat .git/HEAD
</code></pre><p>
    <asciinema-player
        src="/casts/git-basico37.cast"
        cols="110"
        rows="28"
        
        preload="1"
        
        start-at="0"
        speed="1.5"
        
        poster="npt:0:23"
        
        theme="monokai"
        
        
        
        
    ></asciinema-player>
</p>

<p>Existe uma refer√™ncia para o branch atual no arquivo HEAD. Nesse momento, ela tem que ser para o branch master.</p>
<h2 id="23-dentro-do-git-trabalhando-diretamente-com-objetos-do-git">23. Dentro do Git: Trabalhando diretamente com objetos do git</h2>
<h4 id="procurando-pelo-√∫ltimo-commit">Procurando pelo √∫ltimo commit</h4>
<pre><code>git hist --max-count=1
</code></pre><p>
    <asciinema-player
        src="/casts/git-basico38.cast"
        cols="110"
        rows="28"
        
        preload="1"
        
        start-at="0"
        speed="1.5"
        
        poster="npt:0:23"
        
        theme="monokai"
        
        
        
        
    ></asciinema-player>
</p>

<h4 id="exibi√ß√£o-do-√∫ltimo-commit">Exibi√ß√£o do √∫ltimo commit</h4>
<p>Com a hash SHA1, tal como acima&hellip;</p>
<pre><code>git cat-file -t &lt;hash&gt;
git cat-file -p &lt;hash&gt;
</code></pre><p>
    <asciinema-player
        src="/casts/git-basico39.cast"
        cols="110"
        rows="28"
        
        preload="1"
        
        start-at="0"
        speed="1.5"
        
        poster="npt:0:26"
        
        theme="monokai"
        
        
        
        
    ></asciinema-player>
</p>

<h4 id="busca-em-√°rvore">Busca em √°rvore</h4>
<p>N√≥s podemos exibir a √°rvore referenciada no commit. Isso deveria ser uma descri√ß√£o do arquivo no nosso projeto (para um commit espec√≠fico). Use a hash SHA1 da string da √°rvore listada acima.</p>
<pre><code>git cat-file -p &lt;treehash&gt;
</code></pre><p>
    <asciinema-player
        src="/casts/git-basico40.cast"
        cols="110"
        rows="28"
        
        preload="1"
        
        start-at="0"
        speed="1.5"
        
        poster="npt:0:23"
        
        theme="monokai"
        
        
        
        
    ></asciinema-player>
</p>

<h4 id="exibir-diret√≥rio-da-lib-e-exibir-o-arquivo-hellohtml">Exibir diret√≥rio da lib e Exibir o arquivo hello.html</h4>
<pre><code>git cat-file -p &lt;libhash&gt;
git cat-file -p &lt;hellohash&gt;
</code></pre><p>
    <asciinema-player
        src="/casts/git-basico41.cast"
        cols="110"
        rows="28"
        
        preload="1"
        
        start-at="0"
        speed="1.5"
        
        poster="npt:0:29"
        
        theme="monokai"
        
        
        
        
    ></asciinema-player>
</p>

<p>E a√≠ est√°. Objetos √°rvores, objetos de commits e objetos blob s√£o exibidos diretamente do reposit√≥rio do git. E isso √© tudo que tem - √°rvores, blobs e commits.</p>
<h4 id="explore-voc√™-mesmo">Explore voc√™ mesmo</h4>
<p>O reposit√≥rio git pode ser explorado manualmente. Tente achar manualmente o arquivo hello.html original do primeiro commit com ajuda da hash <code>SHA1</code> referenciada no √∫ltimo commit.</p>


<footer class="footline">
	
	    <i class='fas fa-user'></i> <a href="mailto:juan.enciso@gmail.com">Juan Enciso</a>  <i class='fas fa-calendar'></i> 10/08/2020
	    </div>
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        


	 
	 
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1599606374"></script>
    <script src="/js/perfect-scrollbar.min.js?1599606374"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1599606374"></script>
    <script src="/js/jquery.sticky.js?1599606374"></script>
    <script src="/js/featherlight.min.js?1599606374"></script>
    <script src="/js/highlight.pack.js?1599606374"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1599606374"></script>
    <script src="/js/learn.js?1599606374"></script>
    <script src="/js/hugo-learn.js?1599606374"></script>

    <link href="/mermaid/mermaid.css?1599606374" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1599606374"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    


    <script src="/js/asciinema-player.js"></script>

  </body>
</html>

